# 1. ìƒì„±ì ëŒ€ì‹  ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œ

Created: 2023ë…„ 12ì›” 11ì¼ ì˜¤ì „ 9:02
Tags: ê°ì²´ ìƒì„±ê³¼ íŒŒê´´

## ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œ

- ë³„ë„ì˜ ê°ì²´ ìƒì„±ì˜ ì—­í• ì„ í•˜ëŠ” í´ë˜ìŠ¤(static) ë©”ì„œë“œ
- GoFì˜ íŒ©í† ë¦¬ ë©”ì„œë“œ, ì¶”ìƒ íŒ©í† ë¦¬ ë©”ì„œë“œ ê°œë…ì„ ë”°ì™€ ì‹¬í”Œí•˜ê²Œ ë³€í˜•í•œ ê²ƒ
- ì—„ì—°íˆ ë‹¤ë¥¸ íŒ¨í„´ì„ìœ¼ë¡œ ì£¼ì˜

## ì¥ì 

### 1. ìƒì„± ëª©ì ì— ë”°ë¥¸ ì •í™•í•œ ì´ë¦„ ë¶€ì—¬ ê°€ëŠ¥

- new ìƒì„±ìì˜ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ì •í™•íˆ ì•Œì•„ì•¼ë§Œ ëª©ì ì— ë§ê²Œ ê°ì²´ ìƒì„± ê°€ëŠ¥
- ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œ ì‚¬ìš©ì‹œ ê°ì²´ì˜ ìƒì„± ëª©ì ì„ ì •í™•íˆ ë‹´ì„ ìˆ˜ ìˆìŒ
- ê°€ë…ì„± ì¦ê°€
- [ì°¸ê³ ì½”ë“œ](https://tecoble.techcourse.co.kr/post/2020-05-26-static-factory-method/)
    - ìë™ ë¡œë˜ì™€ ìˆ˜ë™ ë¡œë˜ë¥¼ ë§Œë“œëŠ” ë²•
    
    ```java
    public class LottoFactory() {
      private static final int LOTTO_SIZE = 6;
    
      private static List<LottoNumber> allLottoNumbers = ...; // 1~45ê¹Œì§€ì˜ ë¡œë˜ ë„˜ë²„
    
      public static Lotto createAutoLotto() {
        Collections.shuffle(allLottoNumbers);
        return new Lotto(allLottoNumbers.stream()
                .limit(LOTTO_SIZE)
                .collect(Collectors.toList()));
      }
    
      public static Lotto createManualLotto(List<LottoNumber> lottoNumbers) {
        return new Lotto(lottoNumbers);
      }
      ...
    }
    ```
    

### 2. í˜¸ì¶œì‹œë§ˆë‹¤ ìƒˆë¡œìš´ ê°ì²´ ìƒì„± ë°©ì§€

- ì „ë°˜ì ì¸ ê°ì²´ ìƒì„± í†µì œ ê°€ëŠ¥ (ì¸ìŠ¤í„´ìŠ¤ í†µì œ í´ë˜ìŠ¤, instance-controlled class)
- ëŒ€í‘œì ì¸ ì˜ˆì‹œ : singleton ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œ êµ¬í˜„ â‡’ ë™ì¼ ê°ì²´ ë°˜í™˜ ë³´ì¥ (ì‹±ê¸€í†¤ ë””ìì¸ íŒ¨í„´)
- ëŒ€í‘œì ì¸ ì˜ˆì‹œ : ìºì‹±ì ˆì°¨ êµ¬ì¡° (í”Œë¼ì´ì›¨ì´íŠ¸ ë””ìì¸ íŒ¨í„´)
    - HashMapì„ ìºì‹± ì €ì¥ì†Œ ì—­í• ë¡œ ì‚¬ìš©
    - ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìºì‹œë˜ì–´ìˆìœ¼ë©´  ê·¸ëŒ€ë¡œ ë°˜í™˜í•˜ê³  ìºì‹œë˜ì–´ìˆì§€ ì•Šìœ¼ë©´ ìƒì„±í•˜ì—¬ ìºì‹± í›„ ë°˜í™˜
    - Integer.valueOf : -128 ~ 127 ì•ˆì˜ ê°’ì€ ìºì‹œë¡œ ë°˜í™˜
    - [ì°¸ê³ ì½”ë“œ](https://inpa.tistory.com/entry/GOF-%F0%9F%92%A0-%EC%A0%95%EC%A0%81-%ED%8C%A9%ED%86%A0%EB%A6%AC-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%83%9D%EC%84%B1%EC%9E%90-%EB%8C%80%EC%8B%A0-%EC%82%AC%EC%9A%A9%ED%95%98%EC%9E%90)
        
        ```java
        class Day {
            private String day;
        
            public Day(String day) { this.day = day; }
        
            public String getDay() { return day; }
        }
        
        // Day ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” Flyweight íŒ©í† ë¦¬ í´ë˜ìŠ¤
        class DayFactory {
        
        	// Day ê°ì²´ë¥¼ ì €ì¥í•˜ëŠ” ìºì‹± ì €ì¥ì†Œ ì—­í• 
            private static final Map<String, Day> cache = new HashMap<>();
        	
            // ìì£¼ ì‚¬ìš©ë ê²ƒ ê°™ì€ Day ê°ì²´ ëª‡ê°€ì§€ë¥¼ ë¯¸ë¦¬ ë“±ë¡í•œë‹¤
            static { 
            	cache.put("Monday", new Day("Monday")); 
                cache.put("Tuesday", new Day("Tuesday")); 
                cache.put("Wednesday", new Day("Wednesday")); 
            }
        
            // ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œ (ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•´ ì² ì €í•œ ê´€ë¦¬)
            public static Day from(String day) {
        
                if(cache.containsKey(day)) {
                    // ìºì‹œ ë˜ì–´ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ê°€ì ¸ì™€ ë°˜í™˜
                    System.out.println("í•´ë‹¹ ìš”ì¼ì€ ìºì‹±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.");
                    return cache.get(day);
                } else {
                    // ìºì‹œ ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©´ ìƒˆë¡œ ìƒì„±í•˜ê³  ìºì‹±í•˜ê³  ë°˜í™˜
                    System.out.println("í•´ë‹¹ ìš”ì¼ì€ ìºì‹±ë˜ì–´ ìˆì§€ ì•Šì•„ ìƒˆë¡œ ìƒì„±í•˜ì˜€ìŠµë‹ˆë‹¤.");
                    Day d = new Day(day);
                    cache.put(day, d);
                    return d;
                }
            }
        }
        ```
        

### 3. í•˜ìœ„ ê°ì²´ ë°˜í™˜ ê°€ëŠ¥

- ê¸°ì¡´ javaì—ì„œ ì¸í„°í˜ì´ìŠ¤ì—ì„œëŠ” ì •ì  ë©”ì†Œë“œ ì‚¬ìš© ë¶ˆê°€í•˜ì—¬ ë™ë°˜ í´ë˜ìŠ¤ ì—­í•  í•„ìš”
    - ëª…ëª…ë²• : ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ + s
    - ëŒ€í‘œì ì¸ ì˜ˆì‹œ : Collection ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ Collections â‡’ ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œ ê°€ì§€ê³  ìˆìŒ
    - 
        
        ```java
        interface SmarPhone {}
        
        class Galaxy implements SmarPhone {}
        class IPhone implements SmarPhone {}
        class Huawei implements SmarPhone {}
        
        class SmartPhones {
            public static SmarPhone getSamsungPhone() {
                return new Galaxy();
            }
        
            public static SmarPhone getApplePhone() {
                return new IPhone();
            }
        
            public static SmarPhone getChinesePhone() {
                return new Huawei();
            }
        }
        ```
        
- java 8 ë¶€í„° ì¸í„°í˜ì´ìŠ¤ì— ì •ì  ë©”ì„œë“œ ì‚¬ìš© ê°€ëŠ¥í•˜ì—¬ ë™ë°˜ í´ë˜ìŠ¤ ê°œë… ë¶ˆí•„ìš”í•´ì§
    - java 8 : ì •ì  ë©”ì†Œë“œ, í•„ë“œ, ë©¤ë²„ í´ë˜ìŠ¤ public ê°•ì œ
    - java 9 : ì •ì  ë©”ì†Œë“œ private ê°€ëŠ¥, ì •ì  í•„ë“œ, ì •ì  ë©¤ë²„ í´ë˜ìŠ¤ëŠ” public ê°•ì œ
    - 
        
        ```java
        interface SmarPhone {
            public static SmarPhone getSamsungPhone() {
                return new Galaxy();
            }
        
            public static SmarPhone getApplePhone() {
                return new IPhone();
            }
        
            public static SmarPhone getChinesePhone() {
                return new Huawei();
            }
        }
        ```
        
- ë˜í•œ ì¸ìì— ë”°ë¼ ë‹¤ë¥¸ ê°ì²´ë¥¼ ë°˜í™˜í•˜ë„ë¡ ë¶„ê¸°í•  ìˆ˜ë„ ìˆë‹¤.
- 
    
    ```java
    interface SmarPhone {
        public static SmarPhone getPhone(int price) {
            if(price > 100000) {
                return new IPhone();
            }
            if(price > 50000) {
                return new Galaxy();
            }
            return new Huawei();
        }
    }
    ```
    
- ë§¤ê°œë³€ìˆ˜ì— ë”°ë¼ ì•„ì˜ˆ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ë¦¬í„´í•˜ê²Œ í•  ìˆ˜ë„ ìˆë‹¤.

### 4. ê°ì²´ ìƒì„± ìº¡ìŠí™”

- ì •ë³´ ì€ë‹‰ ë° ì˜ì¡´ì„± ì œê±°
- ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œ ì—†ì´ ìƒì„±ìë¡œ ê°ì²´ ìƒì„± ë° ë³€í™˜ì„ í•œë‹¤ë©´ ì™¸ë¶€ì—ì„œ ìƒì„±ì ë‚´ë¶€êµ¬í˜„ì„ ëª¨ë‘ ë“œëŸ¬ë‚´ì•¼ í•œë‹¤
- ì˜ˆì‹œ
    
    ```java
    public class CarDto {
      private String name;
      private int position;
    
      pulbic static CarDto from(Car car) {
        return new CarDto(car.getName(), car.getPosition());
      }
    }
    
    // Car -> CatDto ë¡œ ë³€í™˜
    CarDto carDto = CarDto.from(car);
    
    Car carDto = CarDto.from(car); // ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì“´ ê²½ìš°
    CarDto carDto = new CarDto(car.getName(), car.getPosition); // ìƒì„±ìë¥¼ ì“´ ê²½ìš°
    ```
    
    ```java
    class GradeCalculator {
    	// ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œ
        public static Grade of(int score) {
            if (score >= 90) {
                return new A();
            } else if (score >= 80) {
                return new B();
            } else if (score >= 70) {
                return new C();
            } else if (score >= 60) {
                return new D();
            } else {
                return new F();
            }
        }
    }
    ```
    

## ë‹¨ì 

### 1. ìƒì„±ì ì—†ì´ëŠ” ìƒì† ë¶ˆê°€

- public, protected ìƒì†ì ì—†ì´ëŠ” ìƒì†ì´ ë¶ˆê°€
- ì˜¤íˆë ¤ ì¥ì ì´ ë  ìˆ˜ë„ ìˆë‹¤
    1. ìƒì†ë³´ë‹¤ ì»´í¬ì§€ì…˜ìœ¼ë¡œ êµ¬í˜„í•˜ë„ë¡ ìœ ë„
    2. ë¶ˆë³€ê°ì²´ë¡œ ë§Œë“¤ì–´ì•¼í•  ë•Œ

### 2. í”„ë¡œê·¸ë˜ë¨¸ê°€ ì°¾ê¸° ì–´ë ¤ì›€

- ìƒì„±ìëŠ” ìŠ¤í™ìœ¼ë¡œ JavaDoc ìƒë‹¨ì— ëª…ì‹œë˜ì–´ìˆìŒ
- ì •ì íŒ©í† ë¦¬ ë©”ì„œë“œëŠ” ê°œë°œìê°€ ì„ì˜ë¡œ ë§Œë“  ë©”ì„œë“œë¡œ ì§ì ‘ ë’¤ì ¸ì„œ ì°¾ì•„ì•¼ í•¨
- API ë¬¸ì„œì— ì˜ ê°œì‹œí•´ë‘ì–´ì•¼ í•¨ & ì»¨ë²¤ì…˜ì„ ì˜ ì§€ì¼œì•¼ í•¨

## ë„¤ì´ë° ì»¨ë²¤ì…˜

- `**from`Â : í•˜ë‚˜ì˜ ë§¤ê°œ ë³€ìˆ˜ë¥¼ ë°›ì•„ì„œ ê°ì²´ë¥¼ ìƒì„±**
    - Date d = Date.from(instant);
- `**of`Â : ì—¬ëŸ¬ê°œì˜ ë§¤ê°œ ë³€ìˆ˜ë¥¼ ë°›ì•„ì„œ ê°ì²´ë¥¼ ìƒì„±**
    - Set<Rank> faceCards = EnumSet.of(JACK, KING, QUEEN);
- **valueOf : from, ofì˜ ë³´ë‹¤ ìì„¸í•œ ë²„ì „**
    - BigInteger prime = BigInteger.valueOf(Integer.MAX_VALUE);
- `**getInstance`Â |Â `instance`Â : ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±. ì´ì „ì— ë°˜í™˜í–ˆë˜ ê²ƒê³¼ ê°™ì„ ìˆ˜ ìˆìŒ.**
    - ClassA a = ClassA.getInstance(options);
- `newInstance`Â |Â `create`Â : ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±
    - Object newArray = Array.newInstance(classObject, arrayLen);
- `**get[OtherType]`Â : ë‹¤ë¥¸ íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±. ì´ì „ì— ë°˜í™˜í–ˆë˜ ê²ƒê³¼ ê°™ì„ ìˆ˜ ìˆìŒ.**
    - FileStore fs = Files.getFileStore(path);
- `**new[OtherType]`Â : ë‹¤ë¥¸ íƒ€ì…ì˜ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±.**
    - BufferedReader br = Files.newBufferedReader(path);
- **[OtherType] : get[OtherType], new[OtherType]ì˜ ê°„ê²°ë²„ì „**
    - List<Complaint> litany = Collections.list(legacyLitany);

## Lombok ì‚¬ìš©í•˜ê¸°

```java
@RequiredArgsConstructor(staticName = "of") // ì½”ë“œ ì»¨ë²¤ì…˜ ì§€ì¼œì„œ ì‚¬ìš©
class Product {
    private Long id;
    private String name;
}

public class Main {
    public static void main(String[] args) {
        Product p = Product.of();
    }
}
```

## ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

- Optional ì˜ of
    
    ```java
    Optional<Integer> value = Optional.of(1000);
    ```
    
- Listì˜ of (java 9ë¶€í„°)
    - ì‚¬ìš©ì ì…ì¥ì—ì„œ ë°˜í™˜ë˜ëŠ” í´ë˜ìŠ¤ì˜ íƒ€ì…ì„ ì•Œ í•„ìš”ê°€ ì—†ì´ ofì˜ ê¸°ëŠ¥ë§Œ ì•Œë©´ ë¨
    
    ```java
    // ë¦¬í„°ëŸ´ ê°’ìœ¼ë¡œ List íƒ€ì… ê°ì²´ ìƒì„±
    List<Integer> list = List.of(1, 2, 3);
    
    // ë°°ì—´ ê°ì²´ë¡œ List íƒ€ì… ê°ì²´ ìƒì„±
    Integer[] array = {1,2};
    List<Integer> list2 = List.of(array);
    ```
    

[](https://tecoble.techcourse.co.kr/po)

[ğŸ’  ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´ (Static Factory Method)](https://inpa.tistory.com/entry/GOF-ğŸ’ -ì •ì -íŒ©í† ë¦¬-ë©”ì„œë“œ-ìƒì„±ì-ëŒ€ì‹ -ì‚¬ìš©í•˜ì)